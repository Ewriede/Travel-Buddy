{% extends "base.html" %}

{% block content %}
  <!-- Orange Header -->
  <header class="py-4" style="background-color: orange; color: white;">
    <div class="container text-center">
      <h1>{{ user.username }}'s Travel Dashboard</h1>
    </div>
  </header>

  <!-- About Section -->
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-12">
        <p><strong>About me:</strong> {{ user.about_me }}</p>
        <a href="{{ url_for('create_pack', username=user.username) }}" class="btn btn-primary">Create New Travel Plan</a>
      </div>
    </div>

    <hr>

    <!-- Travel Plans -->
    {% if plans_with_activities %}
      <h2>Your Travel Plans</h2>
      <div class="row">
        {% for plan, activities in plans_with_activities %}
          <div class="col-md-6 mb-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h4 class="card-title">{{ plan.name }}
                  <small class="text-muted">({{ plan.destination_plan.name }})</small>
                </h4>
                <p><strong>Time Needed:</strong> {{ plan.time_needed }}</p>
                <p><strong>Budget:</strong> ${{ plan.budget }}</p>
                <p><strong>Group Recommendation:</strong> {{ plan.group_rec }} people</p>
                <p><strong>Activities:</strong></p>
                <ul>
                  {% for activity in activities %}
                    <li>{{ activity.name }} at {{ activity.establishment }}</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No travel plans yet. Create one!</p>
    {% endif %}
  </div>
{% endblock %}
